cmake_minimum_required(VERSION 3.20)
project(video_app)

set(CMAKE_CXX_STANDARD 14)


include_directories(libs/Linuxv2/include)
link_directories(libs/Linuxv2/lib)

add_executable(video_app src/ScreenRecorder.cpp src/ScreenRecorder.h)

target_link_libraries(
        video_app
        avformat
        avutil
        avdevice
        avfilter
        avcodec
        swscale
        pthread
        swresample
)







cmake_minimum_required(VERSION 3.20)
project(video_app)

set(CMAKE_CXX_STANDARD 14)

set (CMAKE_VERBOSE_MAKEFILE true)

set(CMAKE_PREFIX_PATH ${CMAKE_SOURCE_DIR}/libs/Linuxv2)
message(STATUS ${CMAKE_PREFIX_PATH})
set(CMAKE_FRAMEWORK_PATH ${CMAKE_SOURCE_DIR}/libs/Linuxv2)
message(STATUS ${CMAKE_FRAMEWORK_PATH})

set(CMAKE_INSTALL_PREFIX ${CMAKE_SOURCE_DIR}/libs/Linuxv2)



find_package(PkgConfig REQUIRED)

#message(STATUS ${PKG_CONFIG_EXECUTABLE})
#set(PKG_CONFIG_EXECUTABLE "${PKG_CONFIG_EXECUTABLE} --define-variable=CMAKE_INSTALL_PREFIX=${CMAKE_INSTALL_PREFIX}")
#message(STATUS ${PKG_CONFIG_EXECUTABLE})


pkg_check_modules(LIBAV REQUIRED IMPORTED_TARGET
        libavcodec
        libavdevice
        libavfilter
        libavformat
        libavutil
        libswresample
        libswscale
        )

add_executable(video_app src/main.cpp src/ScreenRecorder.cpp src/ScreenRecorder.h)

target_link_libraries(${PROJECT_NAME}
        PkgConfig::LIBAV
        )